commit 05392eba11f38d8a6e405342359b10ea4359cb97
Author:     parrt <parrt@antlr.org>
AuthorDate: Wed Jun 22 12:28:47 2011 -0800
Commit:     parrt <parrt@antlr.org>
CommitDate: Wed Jun 22 12:28:47 2011 -0800

references to template names are fully qualified now

[git-p4: depot-paths = "//depot/code/antlr/antlr3-main/": change = 8715]

diff --git a/tool/src/main/antlr3/org/antlr/grammar/v3/CodeGenTreeWalker.g b/tool/src/main/antlr3/org/antlr/grammar/v3/CodeGenTreeWalker.g
index 1b17fa7..9edda79 100644
--- a/tool/src/main/antlr3/org/antlr/grammar/v3/CodeGenTreeWalker.g
+++ b/tool/src/main/antlr3/org/antlr/grammar/v3/CodeGenTreeWalker.g
@@ -456,7 +456,7 @@ rule returns [ST code=null]
}
}
$code = templates.getInstanceOf(stName);
-				if ( $code.getName().equals("rule") )
+				if ( $code.getName().equals("/rule") )
{
$code.add("emptyRule", grammar.isEmptyRule(block2));
}
diff --git a/tool/src/test/java/org/antlr/test/TestAttributes.java b/tool/src/test/java/org/antlr/test/TestAttributes.java
index 333c89e..5a6ffb6 100644
--- a/tool/src/test/java/org/antlr/test/TestAttributes.java
+++ b/tool/src/test/java/org/antlr/test/TestAttributes.java
@@ -2964,7 +2964,7 @@ public class TestAttributes extends BaseTest {
for (int i = 0; i < translator.chunks.size(); i++) {
Object chunk = translator.chunks.get(i);
if (chunk instanceof ST) {
-				if (((ST)chunk).getName().equals("scopeSetAttributeRef")) {
+				if (((ST)chunk).getName().equals("/scopeSetAttributeRef")) {
foundScopeSetAttributeRef = true;
}
}

