commit 924ffd9dae1ab119406bcdd99251879c742e72a1
Author:     parrt <parrt@antlr.org>
AuthorDate: Mon Jun 20 17:42:42 2011 -0800
Commit:     parrt <parrt@antlr.org>
CommitDate: Mon Jun 20 17:42:42 2011 -0800

get rid of bogus filename in error

[git-p4: depot-paths = "//depot/code/antlr/antlr3-main/": change = 8685]

diff --git a/tool/src/main/java/org/antlr/Tool.java b/tool/src/main/java/org/antlr/Tool.java
index 40fd909..b336baf 100644
--- a/tool/src/main/java/org/antlr/Tool.java
+++ b/tool/src/main/java/org/antlr/Tool.java
@@ -535,8 +535,7 @@ public class Tool {
}
catch (IOException e) {
if (exceptionWhenWritingLexerFile) {
-                    ErrorManager.error(ErrorManager.MSG_CANNOT_WRITE_FILE,
-                                       lexerGrammarFileName, e);
+                    ErrorManager.error(ErrorManager.MSG_CANNOT_WRITE_FILE, e);
}
else {
ErrorManager.error(ErrorManager.MSG_CANNOT_OPEN_FILE,
diff --git a/tool/src/main/java/org/antlr/codegen/CodeGenerator.java b/tool/src/main/java/org/antlr/codegen/CodeGenerator.java
index 180bd3e..916b1fa 100644
--- a/tool/src/main/java/org/antlr/codegen/CodeGenerator.java
+++ b/tool/src/main/java/org/antlr/codegen/CodeGenerator.java
@@ -472,9 +472,7 @@ public class CodeGenerator {
//System.out.println(outputFileST.getDOTForDependencyGraph(false));
}
catch (IOException ioe) {
-			ErrorManager.error(ErrorManager.MSG_CANNOT_WRITE_FILE,
-							   getVocabFileName(),
-							   ioe);
+			ErrorManager.error(ErrorManager.MSG_CANNOT_WRITE_FILE, ioe);
}
/*
System.out.println("num obj.prop refs: "+ ASTExpr.totalObjPropRefs);

