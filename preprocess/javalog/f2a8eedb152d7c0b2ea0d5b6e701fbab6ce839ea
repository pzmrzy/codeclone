commit f2a8eedb152d7c0b2ea0d5b6e701fbab6ce839ea
Author:     Sam Harwell <sam@tunnelvisionlabs.com>
AuthorDate: Tue Feb 5 13:09:40 2013 -0600
Commit:     Sam Harwell <sam@tunnelvisionlabs.com>
CommitDate: Tue Feb 5 13:10:37 2013 -0600

Additional IntervalSet unit test (catches underlying cause of antlr/antlr4#153)

diff --git a/tool/src/test/java/org/antlr/test/TestIntervalSet.java b/tool/src/test/java/org/antlr/test/TestIntervalSet.java
index f6a9d00..d6fea65 100644
--- a/tool/src/test/java/org/antlr/test/TestIntervalSet.java
+++ b/tool/src/test/java/org/antlr/test/TestIntervalSet.java
@@ -342,6 +342,23 @@ public class TestIntervalSet extends BaseTest {
assertEquals(result, expecting);
}

+	/**
+	 * This case is responsible for antlr/antlr4#153.
+	 * https://github.com/antlr/antlr4/issues/153
+	 * <p/>
+	 * Resolution back-ported from V4.
+	 */
+	@Test public void testMergeWhereAdditionMergesThreeExistingIntervals() throws Exception {
+		IntervalSet s = new IntervalSet();
+		s.add(0);
+		s.add(3);
+		s.add(5);
+		s.add(0, 7);
+		String expecting = "0..7";
+		String result = s.toString();
+		assertEquals(expecting, result);
+	}
+
@Test public void testMergeWithDoubleOverlap() throws Exception {
IntervalSet s = IntervalSet.of(1,10);
s.add(20,30);

