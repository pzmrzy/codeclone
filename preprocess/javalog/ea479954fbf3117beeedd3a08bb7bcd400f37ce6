commit ea479954fbf3117beeedd3a08bb7bcd400f37ce6
Author:     acondit <acondit@parrt.spork>
AuthorDate: Thu Apr 14 13:42:27 2011 -0800
Commit:     acondit <acondit@parrt.spork>
CommitDate: Thu Apr 14 13:42:27 2011 -0800

Fixed to call createToken:fromToken rather than createToken:TokenType text:text

[git-p4: depot-paths = "//depot/code/antlr/antlr3-main/": change = 8230]

diff --git a/runtime/ObjC/Framework/ANTLRBaseTreeAdaptor.m b/runtime/ObjC/Framework/ANTLRBaseTreeAdaptor.m
index b2149c1..6f208f4 100644
--- a/runtime/ObjC/Framework/ANTLRBaseTreeAdaptor.m
+++ b/runtime/ObjC/Framework/ANTLRBaseTreeAdaptor.m
@@ -235,7 +235,7 @@
{
if (fromToken == nil)
return [self createTree:tokenType Text:text];
-    fromToken = [self createToken:tokenType Text:text];
+    fromToken = [self createToken:fromToken];
[fromToken setType:tokenType];
[fromToken setText:text];
id<ANTLRBaseTree>t = [self create:fromToken];
diff --git a/runtime/ObjC/Framework/ANTLRCommonTreeAdaptor.m b/runtime/ObjC/Framework/ANTLRCommonTreeAdaptor.m
index 3285e31..525758d 100644
--- a/runtime/ObjC/Framework/ANTLRCommonTreeAdaptor.m
+++ b/runtime/ObjC/Framework/ANTLRCommonTreeAdaptor.m
@@ -99,7 +99,7 @@

- (id<ANTLRToken>)createToken:(id<ANTLRToken>)fromToken
{
-    return fromToken = [ANTLRCommonToken newTokenWithToken:(ANTLRCommonToken *)fromToken];
+    return [ANTLRCommonToken newTokenWithToken:(ANTLRCommonToken *)fromToken];
}

/** Track start/stop token for subtree root created for a rule.

