commit fb4eb0e43212f4a7e841f4117b88c4b674b87698
Author:     parrt <parrt@antlr.org>
AuthorDate: Mon Jul 18 17:20:28 2011 -0800
Commit:     parrt <parrt@antlr.org>
CommitDate: Mon Jul 18 17:20:28 2011 -0800

out of date .g / .java

[git-p4: depot-paths = "//depot/code/antlr/antlr3-main/": change = 8884]

diff --git a/tool/src/main/antlr3/org/antlr/grammar/v3/CodeGenTreeWalker.g b/tool/src/main/antlr3/org/antlr/grammar/v3/CodeGenTreeWalker.g
index 853a629..7615833 100644
--- a/tool/src/main/antlr3/org/antlr/grammar/v3/CodeGenTreeWalker.g
+++ b/tool/src/main/antlr3/org/antlr/grammar/v3/CodeGenTreeWalker.g
@@ -139,27 +139,27 @@ protected final ST getRuleElementST( String name,
GrammarAST ast_suffix,
String label ) {
Rule r = grammar.getRule( currentRuleName );
-	String suffix = getSTSuffix( elementAST, ast_suffix, label );
+	String suffix = getSTSuffix(elementAST, ast_suffix, label);
if ( !r.isSynPred ) {
name += suffix;
}
-    // if we're building trees and there is no label, gen a label
-    // unless we're in a synpred rule.
-    Rule r = grammar.getRule( currentRuleName );
-    if ( ( grammar.buildAST() || suffix.length() > 0 ) && label == null &&
-         ( r == null || !r.isSynPred ) ) {
-        // we will need a label to do the AST or tracking, make one
-        label = generator.createUniqueLabel( ruleTargetName );
-        CommonToken labelTok = new CommonToken( ANTLRParser.ID, label );
-        grammar.defineRuleRefLabel( currentRuleName, labelTok, elementAST );
-    }
+	// if we're building trees and there is no label, gen a label
+	// unless we're in a synpred rule.
+	if ( ( grammar.buildAST() || suffix.length() > 0 ) && label == null &&
+		 ( r == null || !r.isSynPred ) ) {
+		// we will need a label to do the AST or tracking, make one
+		label = generator.createUniqueLabel( ruleTargetName );
+		CommonToken labelTok = new CommonToken( ANTLRParser.ID, label );
+		grammar.defineRuleRefLabel( currentRuleName, labelTok, elementAST );
+	}

-    ST elementST = templates.getInstanceOf( name );
-    if ( label != null ) {
-        elementST.add( "label", label );
-    }
+	ST elementST = templates.getInstanceOf( name );
+	if ( label != null ) {
+		elementST.add( "label", label );
+	}

-    return elementST;
+
+	return elementST;
}

protected final ST getTokenElementST( String name,

