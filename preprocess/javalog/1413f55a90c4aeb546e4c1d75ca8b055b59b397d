commit 1413f55a90c4aeb546e4c1d75ca8b055b59b397d
Author:     sharwell <sharwell@pixelminegames.com>
AuthorDate: Thu Aug 4 09:45:16 2011 -0800
Commit:     sharwell <sharwell@pixelminegames.com>
CommitDate: Thu Aug 4 09:45:16 2011 -0800

(C# 2, 3) Call SetState and SetTreeNodeStream instead of setting state and input directly

[git-p4: depot-paths = "//depot/code/antlr/antlr3-main/": change = 8990]

diff --git a/runtime/CSharp3/Sources/Antlr3.Runtime/Tree/TreeFilter.cs b/runtime/CSharp3/Sources/Antlr3.Runtime/Tree/TreeFilter.cs
index ef7b412..ba44e2d 100644
--- a/runtime/CSharp3/Sources/Antlr3.Runtime/Tree/TreeFilter.cs
+++ b/runtime/CSharp3/Sources/Antlr3.Runtime/Tree/TreeFilter.cs
@@ -58,8 +58,8 @@ namespace Antlr.Runtime.Tree
try
{
// share TreeParser object but not parsing-related state
-                state = new RecognizerSharedState();
-                input = new CommonTreeNodeStream( originalAdaptor, t );
+                SetState(new RecognizerSharedState());
+                SetTreeNodeStream(new CommonTreeNodeStream(originalAdaptor, t));
( (CommonTreeNodeStream)input ).TokenStream = originalTokenStream;
BacktrackingLevel = 1;
whichRule();
diff --git a/runtime/CSharp3/Sources/Antlr3.Runtime/Tree/TreeRewriter.cs b/runtime/CSharp3/Sources/Antlr3.Runtime/Tree/TreeRewriter.cs
index a5c4e9f..16a38a2 100644
--- a/runtime/CSharp3/Sources/Antlr3.Runtime/Tree/TreeRewriter.cs
+++ b/runtime/CSharp3/Sources/Antlr3.Runtime/Tree/TreeRewriter.cs
@@ -67,8 +67,8 @@ namespace Antlr.Runtime.Tree
try
{
// share TreeParser object but not parsing-related state
-                state = new RecognizerSharedState();
-                input = new CommonTreeNodeStream( originalAdaptor, t );
+                SetState(new RecognizerSharedState());
+                SetTreeNodeStream(new CommonTreeNodeStream(originalAdaptor, t));
( (CommonTreeNodeStream)input ).TokenStream = originalTokenStream;
BacktrackingLevel = 1;
IAstRuleReturnScope r = whichRule();

