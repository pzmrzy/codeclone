commit f4741cf4cdebd52178cfc4ddfd26f9fec3ad17b6
Author:     sharwell <sharwell@pixelminegames.com>
AuthorDate: Wed Mar 30 07:42:38 2011 -0800
Commit:     sharwell <sharwell@pixelminegames.com>
CommitDate: Wed Mar 30 07:42:38 2011 -0800

Fix boolean literals when targeting Java with the C# version of the Tool

[git-p4: depot-paths = "//depot/code/antlr/antlr3-main/": change = 7980]

diff --git a/tool/src/main/resources/org/antlr/codegen/templates/Java/Dbg.stg b/tool/src/main/resources/org/antlr/codegen/templates/Java/Dbg.stg
index d5274bc..847b85f 100644
--- a/tool/src/main/resources/org/antlr/codegen/templates/Java/Dbg.stg
+++ b/tool/src/main/resources/org/antlr/codegen/templates/Java/Dbg.stg
@@ -44,7 +44,7 @@ public static final String[] ruleNames = new String[] {
<endif>
public static final boolean[] decisionCanBacktrack = new boolean[] {
false, // invalid decision
-    <grammar.decisions:{d | <d.dfa.hasSynPred; null="false">}; wrap="\n    ", separator=", ">
+    <grammar.decisions:{d | <booleanLiteral.(d.dfa.hasSynPred); null="false">}; wrap="\n    ", separator=", ">
};<\n>
<if(grammar.grammarIsRoot)> <! grammar imports other grammar(s) !>
public int ruleLevel = 0;
diff --git a/tool/src/main/resources/org/antlr/codegen/templates/Java/Java.stg b/tool/src/main/resources/org/antlr/codegen/templates/Java/Java.stg
index 38dbd18..29f7192 100644
--- a/tool/src/main/resources/org/antlr/codegen/templates/Java/Java.stg
+++ b/tool/src/main/resources/org/antlr/codegen/templates/Java/Java.stg
@@ -39,6 +39,16 @@ javaTypeInitMap ::= [
default:"null" // anything other than an atomic type
]

+// System.Boolean.ToString() returns "True" and "False", but the proper C# literals are "true" and "false"
+// The Java version of Boolean returns "true" and "false", so they map to themselves here.
+booleanLiteral ::= [
+	"True":"true",
+	"False":"false",
+	"true":"true",
+	"false":"false",
+	default:"false"
+]
+
/** The overall file structure of a recognizer; stores methods for rules
*  and cyclic DFAs plus support code.
*/

