commit f095e50354a383dfc02c4dac22669227437abbe4
Author:     sharwell <sharwell@pixelminegames.com>
AuthorDate: Tue Apr 26 20:25:46 2011 -0800
Commit:     sharwell <sharwell@pixelminegames.com>
CommitDate: Tue Apr 26 20:25:46 2011 -0800

(C# 3) Fix tests

[git-p4: depot-paths = "//depot/code/antlrcs/main/": change = 8318]

diff --git a/Antlr4.StringTemplate/Compiler/TemplateCompiler.cs b/Antlr4.StringTemplate/Compiler/TemplateCompiler.cs
index 8225166..e28e8b8 100644
--- a/Antlr4.StringTemplate/Compiler/TemplateCompiler.cs
+++ b/Antlr4.StringTemplate/Compiler/TemplateCompiler.cs
@@ -227,7 +227,7 @@ namespace Antlr4.StringTemplate.Compiler
string msg = "premature EOF";
ErrorManager.CompiletimeError(ErrorType.SYNTAX_ERROR, templateToken, re.Token, msg);
}
-            else if (re is NoViableAltException || re is MismatchedTokenException)
+            else if (re is NoViableAltException)
{
string msg = "'" + re.Token.Text + "' came as a complete surprise to me";
ErrorManager.CompiletimeError(ErrorType.SYNTAX_ERROR, templateToken, re.Token, msg);
diff --git a/Antlr4.Test.StringTemplate/TestSyntaxErrors.cs b/Antlr4.Test.StringTemplate/TestSyntaxErrors.cs
index 877eaf3..630a784 100644
--- a/Antlr4.Test.StringTemplate/TestSyntaxErrors.cs
+++ b/Antlr4.Test.StringTemplate/TestSyntaxErrors.cs
@@ -200,7 +200,7 @@ namespace Antlr4.Test.StringTemplate
group = new TemplateGroupFile(Path.Combine(tmpdir, "t.stg"));
group.Listener = errors;
group.Load(); // force load
-            string expected = "t.stg 1:29: '!' came as a complete surprise to me" + newline;
+            string expected = "t.stg 1:29: mismatched input '!' expecting RDELIM" + newline;
string result = errors.ToString();
Assert.AreEqual(expected, result);
}

