commit 83fd11b46089076bdf7973a96598e27485633cae
Author:     sharwell <sharwell@pixelminegames.com>
AuthorDate: Sun Apr 24 13:55:36 2011 -0800
Commit:     sharwell <sharwell@pixelminegames.com>
CommitDate: Sun Apr 24 13:55:36 2011 -0800

(C# 3) Implement throwsSpec for the Java target (merges CL8283 & 8291)

[git-p4: depot-paths = "//depot/code/antlrcs/main/": change = 8308]

diff --git a/Antlr3.Targets/Antlr3.Targets.Java/JavaTarget.cs b/Antlr3.Targets/Antlr3.Targets.Java/JavaTarget.cs
index c39be9e..2e55672 100644
--- a/Antlr3.Targets/Antlr3.Targets.Java/JavaTarget.cs
+++ b/Antlr3.Targets/Antlr3.Targets.Java/JavaTarget.cs
@@ -31,9 +31,28 @@
*/
namespace Antlr3.Targets
{
+    using System.Collections.Generic;
+
+    using CodeGenerator = Antlr3.Codegen.CodeGenerator;
+    using Grammar = Antlr3.Tool.Grammar;
+    using Rule = Antlr3.Tool.Rule;
using Target = Antlr3.Codegen.Target;

public class JavaTarget : Target
{
+        protected override void PerformGrammarAnalysis(CodeGenerator generator, Grammar grammar)
+        {
+            base.PerformGrammarAnalysis(generator, grammar);
+
+            foreach (Rule rule in grammar.Rules)
+                rule.ThrowsSpec.Add("RecognitionException");
+
+            IEnumerable<Rule> delegatedRules = grammar.GetDelegatedRules();
+            if (delegatedRules != null)
+            {
+                foreach (Rule rule in delegatedRules)
+                    rule.ThrowsSpec.Add("RecognitionException");
+            }
+        }
}
}

