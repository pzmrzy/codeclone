commit b471c169e29d070c5e4258a415f869889a6b5338
Author:     sharwell <sharwell@pixelminegames.com>
AuthorDate: Sat Jul 30 11:27:36 2011 -0800
Commit:     sharwell <sharwell@pixelminegames.com>
CommitDate: Sat Jul 30 11:27:36 2011 -0800

(C# 3) Updated build script to add LICENSE.txt to packages

[git-p4: depot-paths = "//depot/code/antlrcs/main/": change = 8957]

diff --git a/bin/prep/LICENSE.txt b/bin/prep/LICENSE.txt
new file mode 100644
index 0000000..f63a069
--- /dev/null
+++ b/bin/prep/LICENSE.txt
@@ -0,0 +1,27 @@
+[The "BSD license"]
+Copyright (c) 2011 Terence Parr
+C# Port (c) 2011 Sam Harwell, Tunnel Vision Laboratories, LLC
+All rights reserved.
+
+Redistribution and use in source and binary forms, with or without
+modification, are permitted provided that the following conditions
+are met:
+
+ 1. Redistributions of source code must retain the above copyright
+    notice, this list of conditions and the following disclaimer.
+ 2. Redistributions in binary form must reproduce the above copyright
+    notice, this list of conditions and the following disclaimer in the
+    documentation and/or other materials provided with the distribution.
+ 3. The name of the author may not be used to endorse or promote products
+    derived from this software without specific prior written permission.
+
+THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
+IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
+IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,
+INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
+NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
+DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
+THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
+(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
+THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
diff --git a/bin/prep/prepare.ps1 b/bin/prep/prepare.ps1
index 1487741..a8806b7 100644
--- a/bin/prep/prepare.ps1
+++ b/bin/prep/prepare.ps1
@@ -106,6 +106,7 @@ mkdir ST3
mkdir ST4
copy "..\$BuildConfig\Antlr3.Runtime.dll" ".\Runtime"
copy "..\$BuildConfig\Antlr3.Runtime.pdb" ".\Runtime"
+copy "LICENSE.txt" ".\Runtime"

copy "..\$BuildConfig\Antlr3.exe" ".\Tool"
copy "..\$BuildConfig\Antlr3.exe.config" ".\Tool"
@@ -116,6 +117,7 @@ copy "..\$BuildConfig\Antlr4.StringTemplate.dll" ".\Tool"
copy "..\$BuildConfig\Antlr4.StringTemplate.Visualizer.dll" ".\Tool"
copy "..\$BuildConfig\Antlr3.targets" ".\Tool"
copy "..\$BuildConfig\AntlrBuildTask.dll" ".\Tool"
+copy "LICENSE.txt" ".\Tool"

copy ".\Tool\*" ".\Bootstrap"

@@ -153,6 +155,7 @@ copy "..\..\Antlr3.StringTemplate\bin\$BuildConfig\Antlr3.StringTemplate.dll" ".
copy "..\..\Antlr3.StringTemplate\bin\$BuildConfig\Antlr3.Runtime.dll" ".\ST3"
copy "..\..\Antlr3.StringTemplate\bin\$BuildConfig\Antlr3.StringTemplate.pdb" ".\ST3"
copy "..\..\Antlr3.StringTemplate\bin\$BuildConfig\Antlr3.Runtime.pdb" ".\ST3"
+copy "LICENSE.txt" ".\ST3"

# ST4 dist
copy "..\$BuildConfig\Antlr3.Runtime.dll" ".\ST4"
@@ -161,10 +164,11 @@ copy "..\$BuildConfig\Antlr4.StringTemplate.Visualizer.dll" ".\ST4"
copy "..\$BuildConfig\Antlr3.Runtime.pdb" ".\ST4"
copy "..\$BuildConfig\Antlr4.StringTemplate.pdb" ".\ST4"
copy "..\$BuildConfig\Antlr4.StringTemplate.Visualizer.pdb" ".\ST4"
+copy "LICENSE.txt" ".\ST4"

# compress the distributable packages
-$AntlrVersion = "3.3.4.8516"
-$STVersion = "4.0.3.8516"
+$AntlrVersion = "special-3.4.0.8950"
+$STVersion = "special-4.0.4.8950"

$ArchivePath = ".\dist\antlr-dotnet-csharp3bootstrap-" + $AntlrVersion + ".7z"
.\7z.exe a -r -mx9 $ArchivePath ".\Bootstrap\*"

