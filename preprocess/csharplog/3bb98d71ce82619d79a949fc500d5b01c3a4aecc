commit 3bb98d71ce82619d79a949fc500d5b01c3a4aecc
Author:     sharwell <sharwell@pixelminegames.com>
AuthorDate: Wed Mar 30 07:25:56 2011 -0800
Commit:     sharwell <sharwell@pixelminegames.com>
CommitDate: Wed Mar 30 07:25:56 2011 -0800

Fix NullReferenceException

[git-p4: depot-paths = "//depot/code/antlrcs/main/": change = 7967]

diff --git a/Antlr3/Grammars/DefineGrammarItemsWalkerHelper.cs b/Antlr3/Grammars/DefineGrammarItemsWalkerHelper.cs
index f90e8eb..eaf274a 100644
--- a/Antlr3/Grammars/DefineGrammarItemsWalkerHelper.cs
+++ b/Antlr3/Grammars/DefineGrammarItemsWalkerHelper.cs
@@ -51,6 +51,9 @@ namespace Antlr3.Grammars
public int CountAltsForRule( CommonTree t )
{
CommonTree block = (CommonTree)t.GetFirstChildWithType(BLOCK);
+            if (block.ChildCount == 0)
+                return 0;
+
return block.Children.Count(i => i.Type == ALT);
}


