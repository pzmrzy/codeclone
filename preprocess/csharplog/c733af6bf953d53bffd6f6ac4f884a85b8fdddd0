commit c733af6bf953d53bffd6f6ac4f884a85b8fdddd0
Author:     sharwell <sharwell@pixelminegames.com>
AuthorDate: Mon Jan 31 15:54:02 2011 -0800
Commit:     sharwell <sharwell@pixelminegames.com>
CommitDate: Mon Jan 31 15:54:02 2011 -0800

(C# 3) Add write to TextWriter methods (merge CL 7563)

[git-p4: depot-paths = "//depot/code/antlrcs/main/": change = 7590]

diff --git a/Antlr4.StringTemplate/Template.cs b/Antlr4.StringTemplate/Template.cs
index 93f4e07..ae13b66 100644
--- a/Antlr4.StringTemplate/Template.cs
+++ b/Antlr4.StringTemplate/Template.cs
@@ -45,6 +45,7 @@ namespace Antlr4.StringTemplate
using IList = System.Collections.IList;
using StringBuilder = System.Text.StringBuilder;
using StringWriter = System.IO.StringWriter;
+    using TextWriter = System.IO.TextWriter;

/** An instance of the StringTemplate. It consists primarily of
*  a reference to its implementation (shared among all instances)
@@ -436,6 +437,26 @@ namespace Antlr4.StringTemplate
return interp.Execute(@out, this);
}

+        public virtual int Write(TextWriter writer, ITemplateErrorListener listener)
+        {
+            return Write(writer, CultureInfo.CurrentCulture, listener, AutoIndentWriter.NoWrap);
+        }
+
+        public virtual int Write(TextWriter writer, ITemplateErrorListener listener, int lineWidth)
+        {
+            return Write(writer, CultureInfo.CurrentCulture, listener, lineWidth);
+        }
+
+        public virtual int Write(TextWriter writer, CultureInfo culture, ITemplateErrorListener listener, int lineWidth)
+        {
+            ITemplateWriter templateWriter = new AutoIndentWriter(writer)
+            {
+                LineWidth = lineWidth
+            };
+
+            return Write(templateWriter, culture, listener);
+        }
+
public virtual string Render()
{
return Render(CultureInfo.CurrentCulture);

