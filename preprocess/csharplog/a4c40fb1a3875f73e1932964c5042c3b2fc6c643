commit a4c40fb1a3875f73e1932964c5042c3b2fc6c643
Author:     sharwell <sharwell@pixelminegames.com>
AuthorDate: Sun May 15 13:27:23 2011 -0800
Commit:     sharwell <sharwell@pixelminegames.com>
CommitDate: Sun May 15 13:27:23 2011 -0800

(C# 3) ListStack<T> is more appropriate than Stack<T> when you need to iterate in FIFO order

[git-p4: depot-paths = "//depot/code/antlrcs/main/": change = 8515]

diff --git a/Antlr4.StringTemplate/AutoIndentWriter.cs b/Antlr4.StringTemplate/AutoIndentWriter.cs
index fe8a186..8307188 100644
--- a/Antlr4.StringTemplate/AutoIndentWriter.cs
+++ b/Antlr4.StringTemplate/AutoIndentWriter.cs
@@ -33,7 +33,8 @@
namespace Antlr4.StringTemplate
{
using System.Collections.Generic;
-    using System.Linq;
+    using Antlr.Runtime.Misc;
+
using Environment = System.Environment;
using TextWriter = System.IO.TextWriter;

@@ -62,7 +63,7 @@ namespace Antlr4.StringTemplate
/// <summary>
/// Stack of indents
/// </summary>
-        private readonly Stack<string> _indents = new Stack<string>();
+        private readonly ListStack<string> _indents = new ListStack<string>();

/// <summary>
/// Stack of integer anchors (char positions in line)
@@ -265,7 +266,7 @@ namespace Antlr4.StringTemplate
protected virtual int Indent()
{
int n = 0;
-            foreach (string ind in _indents.Reverse())
+            foreach (string ind in _indents)
{
if (ind != null)
{

