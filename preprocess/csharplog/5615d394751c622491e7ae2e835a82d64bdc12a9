commit 5615d394751c622491e7ae2e835a82d64bdc12a9
Author:     sharwell <sharwell@pixelminegames.com>
AuthorDate: Mon Jun 27 15:28:32 2011 -0800
Commit:     sharwell <sharwell@pixelminegames.com>
CommitDate: Mon Jun 27 15:28:32 2011 -0800

(C# 3) Fix dictionaries not properly rendering a string value equal to "key"

[git-p4: depot-paths = "//depot/code/antlrcs/main/": change = 8771]

diff --git a/Antlr4.StringTemplate/Misc/MapModelAdaptor.cs b/Antlr4.StringTemplate/Misc/MapModelAdaptor.cs
index ca73081..569de5b 100644
--- a/Antlr4.StringTemplate/Misc/MapModelAdaptor.cs
+++ b/Antlr4.StringTemplate/Misc/MapModelAdaptor.cs
@@ -54,8 +54,7 @@ namespace Antlr4.StringTemplate.Misc
else
value = map[TemplateGroup.DefaultKey]; // not found, use default

-            string valueString = value as string;
-            if (valueString == TemplateGroup.DictionaryKey)
+            if (object.ReferenceEquals(value, TemplateGroup.DictionaryKey))
{
value = property;
}

